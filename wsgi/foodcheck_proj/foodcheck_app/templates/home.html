{% extends "skeleton.html" %}
{% load leaflet_tags %}
{% block link %}
    {% leaflet_css plugins="ALL" %}
{% endblock %}
{% block script %}
    {% leaflet_js plugins="ALL" %}
{% endblock %}
{% block content %}


<!--Map, with geolocation
================================================-->
<div class="row">
    <div class="span9">
			<br>
			<br>
			<h2>Locator</h2>
        	
        	{% leaflet_map "main" %}
			<script type="text/javascript">
                    function mainInit(map, bounds) {L.control.locate({
    position: 'topleft',  // set the location of the control
    drawCircle: true,  // controls whether a circle is drawn that shows the uncertainty about the location
    follow: false,  // follow the location if `watch` and `setView` are set to true in locateOptions
    stopFollowingOnDrag: false, // stop following when the map is dragged if `follow` is set to true
    circleStyle: {},  // change the style of the circle around the user's location
    markerStyle: {},
    followCircleStyle: {},  // set difference for the style of the circle around the user's location while following
    followMarkerStyle: {},
    metric: true,  // use metric or imperial units
    onLocationError: function(err) {alert(err.message)},  // define an error callback function
    onLocationOutsideMapBounds:  function(context) { // called when outside map boundaries
            alert(context.options.strings.outsideMapBoundsMsg);
    },
    setView: true, // automatically sets the map view to the user's location
    strings: {
        title: "Show me where I am",  // title of the locat control
        popup: "You are within {distance} {unit} from this point",  // text to appear if user clicks on circle
        outsideMapBoundsMsg: "You seem located outside the boundaries of the map" // default message for onLocationOutsideMapBounds
    }
    locateOptions: {}  // define location options e.g enableHighAccuracy: true
}).addTo(map);
			}
            </script>            
    </div>
    
<!--Search form
================================================-->    
    <div class="span3">
	
		<form>
    	<fieldset>
    	<legend>Search Eatery</legend>
    	<label>Enter restaurant name:</label>
    	<input type="text" name="" placeholder="Eatery">
    	<button type="button" class="btn" value="">Search</button>
   	 	</fieldset>
    	</form>
	
	</div>
</div>

<!--Results list
=================================================-->
<div class="row">
	<div class="span12">
		<br>
    <!-- if businesses %}-->
    <table class="table table-hover">
    	<tr>
			<td>{{business.name}}</td>
			<td>{{business.latitude}}</td>
			<td>{{business.longitude}}</td>
		</tr>
		<tr>
			<td>row 2, cell 1</td>
			<td>row 2, cell 2</td>
			<td>row 2, cell 3</td>
		</tr>
			<td>row 3, cell 1</td>
			<td>row 3, cell 2</td>
			<td>row 3, cell 3</td>
		</tr>
		</tr>
			<td>row 4, cell 1</td>
			<td>row 4, cell 2</td>
			<td>row 4, cell 3</td>
		</tr>
    </table>
    <!-- endfor %}
    
     else %}
    <p>No eateries match your search criteria.</p>
     endif %}-->  
    </div>
</div>
{% endblock %}
